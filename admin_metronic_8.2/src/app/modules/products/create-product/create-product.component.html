<div class="card shadow-sm border-0 rounded-3">
    <!-- Loading -->
    <div class="loading-overlay" *ngIf="isLoading$ | async">
        <div class="spinner-border text-light" role="status"></div>
        <div class="loading-text">Cargando...</div>
    </div>

    <div class="card-body p-5">
        <!-- Título -->
        <!-- <div class="text-center mb-5">
            <h2 class="fw-bold mb-2">Crear Slider</h2>
            <p class="text-muted">Completa los siguientes campos para crear un nuevo slider</p>
        </div> -->

        <!-- SLIDER: arriba -->
        <!-- SLIDER: arriba -->
        <!-- FORMULARIO: abajo y centrado -->
        <div class="d-flex justify-content-center mt-10">
            <div class="col-md-6">
                <div class="row g-4">
                    <div class="col-12">
                        <label class="form-label fw-semibold">Nombre del producto: <span
                                class="text-danger">*</span></label>
                        <input type="text" name="title" [(ngModel)]="title" class="form-control form-control-lg"
                            placeholder="Ejemplo: Las mejores notebooks">
                    </div>
                    <div class="col-12">
                        <label class="form-label fw-semibold">SKU: <span class="text-danger">*</span></label>
                        <input type="text" name="sku" [(ngModel)]="sku" class="form-control form-control-lg"
                            placeholder="Ejemplo: SKU12345">
                    </div>
                    <div class="col-12">
                        <label class="form-label fw-semibold">Precio ARS: <span class="text-danger">*</span></label>
                        <input type="number" name="price_ars" [(ngModel)]="price_ars"
                            class="form-control form-control-lg" placeholder="Ejemplo: 1000">
                    </div>
                    <div class="col-12">
                        <label class="form-label fw-semibold">Precio USD: <span class="text-danger">*</span></label>
                        <input type="number" name="price_usd" [(ngModel)]="price_usd"
                            class="form-control form-control-lg" placeholder="Ejemplo: 100">
                    </div>
                    <div class="col-12">
                        <label class="form-label fw-semibold">Descripción: <span class="text-danger">*</span></label>
                        <ckeditor data="Descripción"></ckeditor>
                        <div class="d-flex flex-column mb-8">
                            <label class="form-label fw-semibold">Resumen: <span class="text-danger">*</span></label>
                            <textarea class="form-control form-control-solid" [(ngModel)]="resumen" rows="3"
                                name="resumen" placeholder="*****"></textarea>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="col-4">
                            <label class="form-label fw-semibold fs-6 required">Departamento (Primer Nivel)</label>
                            <select class="form-select form-select-solid rounded-3 shadow-sm fw-semibold"
                                [(ngModel)]="categorie_first_id" (change)="changeDepartament()" name="departament">
                                <option value="" disabled selected>Seleccione un departamento</option>
                                <ng-container *ngFor="let item of categories_first">
                                    <option [value]="item.id">{{ item.name }}</option>
                                </ng-container>
                            </select>
                        </div>
                        <div class="col-4">
                            <label class="form-label fw-semibold fs-6 required">Categoría (Segundo Nivel)</label>
                            <select class="form-select form-select-solid rounded-3 shadow-sm fw-semibold"
                                [(ngModel)]="categorie_second_id" name="categorie" (change)="changeCategorie()">
                                <option value="" disabled selected>Seleccione una categoría</option>
                                <ng-container *ngFor="let item of categories_seconds_backsups">
                                    <option [value]="item.id">{{ item.name }}</option>
                                </ng-container>
                            </select>
                        </div>
                        <div class="col-4">
                            <label class="form-label fw-semibold fs-6 required">Sub Categoria (Tercer Nivel)</label>
                            <select class="form-select form-select-solid rounded-3 shadow-sm fw-semibold"
                                [(ngModel)]="categorie_third_id" name="categorie">
                                <option value="" disabled selected>Seleccione una categoría</option>
                                <ng-container *ngFor="let item of categories_thirds_backsups">
                                    <option [value]="item.id">{{ item.name }}</option>
                                </ng-container>
                            </select>
                        </div>
                    </div>
                    <div class="col-12">
                        <label class="form-label fw-semibold">
                            Imagen del slider
                            <small class="text-muted">(Se recomienda PNG con fondo transparente)</small>
                        </label>
                        <input type="file" #imageInput class="form-control form-control-lg" accept=".png"
                            (change)="processFile($event, imageInput)">
                    </div>

                    <div class="col-12 text-center mt-3">
                        <button type="submit" (click)="save()" class="btn btn-primary btn-lg px-5">
                            <span class="indicator-label">Guardar cambios</span>
                            <span class="indicator-progress">
                                Espere por favor...
                                <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>
                        </button>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>